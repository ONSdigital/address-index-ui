{% extends 'base.html' %}

{% from "components/phase-banner/_macro.njk" import onsPhaseBanner %}
{% from "components/input/_macro.njk" import onsInput %}
{% from "components/upload/_macro.njk" import onsUpload %}
{% from "components/button/_macro.njk" import onsButton %}
{% from "components/panel/_macro.njk" import onsPanel %}
{% from 'custom_search/_macro.njk' import customSearch %}


{% block main %}

<h1>Match Multiple Addresses</h1>

<br>

{{onsPanel({
"body": '<p>To get started, upload a CSV file of addresses to be matched. The selected file must be 1MB or less (much smaller for show results option) with only two columns, id and address. <br> <br> Download a <a href=''> sample file</a> (shows all possible parameters) <br> <br> You can download your results as a CSV file or preview them in your browser. Your results will include a match accuracy score.</p>'
    })}}

<br>

{{ customSearch ({ "Fields": searchable_fields,
		   "endpoints": endpoints, 
		   "remove_buttons": True,
                   "results_page": results_page, }) }}



<form method=post enctype=multipart/form-data>
<br>


{{ onsUpload({
	"id": "file",
	"name":"file",
	"type":"file",
	"classes":"input input--text input-type__input input--upload",
	"accept": ".csv,.CSV",
	"error": {
		"id": error_type,
		"text": error_description } if error_type else '',
	"label": {
	    "description": "Please upload a CSV file" if not error_type else "",
	    "text":  "Please upload a CSV file" if not error_type else "" } }) }}


<br>

{{ onsButton({
        "text": "Download Results",
        "type": "submit",
        "value": "Download",
        "classes": "btn",  })  }}

{{ onsButton({
        "text": "Show Results",
        "type": "submit",
        "value": "Upload",
        "classes": "btn",  })  }}

</form>

{% endblock %}
