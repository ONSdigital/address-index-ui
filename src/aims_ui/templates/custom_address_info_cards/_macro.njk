{% macro customAddressInfoCards(params) %}
{% from 'components/label/_macro.njk' import onsLabel %}
{% from "components/table/_macro.njk" import onsTable %}
{% from "components/checkboxes/_macro.njk" import onsCheckboxes %}
{% from "sub_components/sub_custom_attributes_table/_macro.njk" import subCustomAttributesTable %}

{# Create a template for address info, and a container for them #}
{#   then run the scripts to populate the cards #}


{# Define the container for all address cards #}
<div id="container-for-address-cards">
</div>

{# Define the template #}
<template id='template-for-address-info-card'>

  <!-- Clickable title (title is in the paf/nag format the user chooses) -->
  <article class="result-short-form">
    <a id='link-to-address-info-uprn'>
      <h2 id='name-of-address-user-dictated'></h2>
    </a>

  {# Add the template html of the table #}
  {{ subCustomAttributesTable() }}
 
  <!-- Link to the location on Google Maps (perhaps to the Radius Search in future?) -->
  {#https://stackoverflow.com/questions/32806084/google-map-zoom-parameter-in-url-not-working#}
  <p class="mars">
    <a id="link-to-address-on-map">Location Map</a>
  </p>

  </article>

</template>

{# Script to fill the details into each template #}
<script type="module">
  import { init } from '/static/js/macros/custom_address_info_cards/init.mjs';

  const page_name = '{{ params.page_name }}';
  init(page_name);
</script>

{# Add styles that create gaps between cards #}
<link rel="stylesheet" href="/static/css/custom_macros/custom_address_info_cards.css">

{% endmacro %}
